<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{{ title }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/reader.css') }}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        $( document ).ready(function() {
            $("#btn").click(
                function(){
                    sendAjaxForm('result_form', 'bookmark_form', 'make_bookmark');
                    return false;
                }
            );
        });

        function sendAjaxForm(result_form, ajax_form, url) {
            $.ajax({
                url:     url,
                type:     "POST",
                dataType: "html",
                data: $("#"+ajax_form).serialize(),
                success: function(response) {

                },
                error: function(response) {

                }
             });
        }
    </script>
</head>

<body>
<header>
    <div class="header-container">
        <a class="logo" href="/">
            <img src="{{ url_for('static', filename='images/logo.svg') }}" alt="logo img" class="logo-img">
        </a>

        <nav class="header-nav">

            <ul class="header-list">
                <li class="header-list-item">
                    <a href="/reader" class="header-link">
                        Читать
                    </a>
                </li>

                <li class="header-list-item">
                    <a href="/library" class="header-link">
                        Библиотека
                    </a>
                </li>

                <li class="header-list-item">
                    <a href="/logout" class="header-link login-link">
                        Выйти
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</header>

<div class="buttons-container">
    <button class="up-comment-button">Коментарии</button>
    <div class="button-row">
        <a><img class="comment-img" src="{{ url_for('static', filename='images/comment.png') }}" alt=""></a>
        <a><img class="highlight-img" src="{{ url_for('static', filename='images/pencil.png') }}" alt=""></a>
        <form id="bookmark_form">
            <input style="display: none" type="text" id="book_id" value="{{ book_id }}">
            <input style="display: none" type="text" id="page" value="{{ page }}">
            <button id="btn"><img id="bookmark" class="bookmark-img"
                              src="{{ url_for('static', filename='images/bookmark_img.svg') }}"
                              alt=""></button>
        </form>

    </div>
    <a href="/about/{{ book.id }}">
        <div class="up-about-book-button">О книге</div>
    </a>

    <div class="container">
        <button class="btn" data-target="#modal1">Open Modal</button>
    </div>

    <div class="modal" id="modal1">
        <div class="materialContainer">
    <div class="box">
        <form method="post">
            <div class="title">Добавить заметку</div>

            <div class="input">
                <label for="note">Комментарий (опционально)</label>
                {{ form.hidden_tag() }}
                {{ form.note(class="form-control", id="note", type="text") }}
                <span class="spin"></span>
            </div>


            <div class="button login">
                <button><span>Добавить</span> <i class="fa fa-check"></i></button>
            </div>

        </form>
    </div>
        </div>
    </div>
    
    <div id="overlay"></div>
</div>


<div class="page-content">
    <div class="left-container">
        <div class="notes-title">Мои заметки</div>
        <button class="comment-button">Коментарии</button>
        <button class="quotes-button" onclick="play()">Смешной звук</button>

        <script>
            function play() {
                var audio = new Audio(
                    '{{ url_for('static', filename='metal-pipe-falling-sound-effect.mp3') }}');
                audio.play();
            }
        </script>
    </div>

    <div class="text-container">
        <div class="content">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque ac dui maximus justo
            cursus suscipit. Maecenas placerat nec ex non egestas. Curabitur elit dolor, aliquet id ante sit amet,
            volutpat ultrices metus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac
            turpis egestas. Vestibulum porta malesuada massa, ut bibendum diam tristique nec. Curabitur congue elit
            ante, at gravida sapien accumsan eget. Fusce sagittis leo libero, quis scelerisque arcu tincidunt nec. Nam a
            libero non ante cursus congue. Phasellus magna lorem, molestie porttitor iaculis ut, dictum et orci. Aliquam
            luctus leo at tempus semper. Vivamus et quam condimentum, sagittis tortor sit amet, lacinia nunc. Quisque
            dictum aliquet elit, sed rutrum massa dignissim vitae. Vestibulum facilisis ut mauris ac vehicula.
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque ac dui maximus justo cursus suscipit.
            Maecenas placerat nec ex non egestas. Curabitur elit dolor, aliquet id ante sit amet, volutpat ultrices
            metus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.
            Vestibulum porta malesuada massa, ut bibendum diam tristique nec. Curabitur congue elit ante, at gravida
            sapien accumsan eget. Fusce sagittis leo libero, quis scelerisque arcu tincidunt nec. Nam a libero non ante
            cursus congue. Phasellus magna lorem, molestie porttitor iaculis ut, dictum et orci. Aliquam luctus leo at
            tempus semper. Vivamus et quam condimentum.
            Curabitur congue elit ante, at gravida sapien accumsan eget. Fusce sagittis leo libero, quis scelerisque
            arcu tincidunt nec. Nam a libero non ante cursus congue. Phasellus magna lorem, molestie porttitor iaculis
            ut, dictum et orci. Aliquam luctus leo at tempus semper. Vivamus et quam condimentum.congue. Phasellus magna
            lorem, molestie porttitor iaculis ut, dictum et orci. Aliquam luctus leo at tempus semper. Vivamus et quam
            condimentum. Radam usen
            Maecenas placerat nec ex non egestas.
        </div>

        <div class="progress-parent">
            <div class="page-count"></div>
            <div class="progress-percent">заглушка 2</div>
        </div>
        <!--            <div class="progess-bar-overall">-->
        <!--                <div class="empty-progress-bar"></div>-->
        <!--                <div class="completed-progress-bar"></div>-->
        <!--        </div>-->

    </div>


    <div class="right-container">
        <a href="/about/{{ book.id }}">
            <div class="about-book-button">О книге</div>
        </a>
    </div>
</div>
</body>
<script src="{{ url_for('static', filename='scripts/reader.js') }}"></script>
</html>